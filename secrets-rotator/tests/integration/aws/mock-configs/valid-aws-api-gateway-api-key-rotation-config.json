{
  "source": {
    "name": "Generate Password",
    "passwordConfig": {
      "length": 24,
      "numbers": true,
      "symbols": false,
      "lowercase": true,
      "excludeSimilarCharacters": false,
      "exclude": "",
      "strict": false
    },
    "action": {
      "type": "GENERATE_PASSWORD"
    }
  },
  "consumers": [
    {
      "name": "API Gateway API key",
      "action": {
        "type": "AWS_GATEWAY_API_KEY_CONSUMER",
        "usagePlanId": "sample usage plan Id",
        "region": "sample region",
        "authentication": {
          "type": "AWS_ACCOUNT",
          "credentials": {
            "accessKeyId": "access key Id",
            "secretAccessKey": "aws secret access key",
            "sessionToken": "aws session token"
          }
        }
      }
    },
    {
      "name": "API Platform service token",
      "action": {
        "type": "API_PLATFORM_API_SERVICE_TOKEN_CONSUMER",
        "apiName": "${API_PLATFORM_API_NAME}",
        "apiKeyHeaderName": "x-api-key",
        "apiPlatformUrl": "${API_PLATFORM_URL}",
        "authentication": {
          "clientId": "${API_PLATFORM_CLIENT_ID}",
          "clientSecret": "${API_PLATFORM_CLIENT_SECRET}",
          "tokenUrl": "${API_PLATFORM_TOKEN_URL}",
          "scope": "${API_PLATFORM_ACCESS_TOKEN_SCOPE}",
          "grantType": "${API_PLATFORM_ACCESS_TOKEN_GRANT_TYPE}",
          "type": "OAUTH_2"
        }
      }
    }
  ]
}

